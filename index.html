<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ğŸš¨ TAHOUR SIREP Ultimate - Ù†Ø¸Ø§Ù… Ø§Ù„Ø·ÙˆØ§Ø±Ø¦ Ø§Ù„Ø´Ø§Ù…Ù„ 2025</title>
    <style>
        * { margin: 0; padding: 0; box-sizing: border-box; }
        body { font-family: 'Segoe UI', Tahoma, Arial, sans-serif; background: linear-gradient(135deg, #0f2027 0%, #203a43 50%, #2c5364 100%); color: #fff; }
        .container { max-width: 1400px; margin: 0 auto; padding: 15px; }
        header { background: rgba(255,255,255,0.1); backdrop-filter: blur(20px); border-radius: 20px; padding: 25px; margin-bottom: 25px; box-shadow: 0 20px 40px rgba(0,0,0,0.4); border: 1px solid rgba(255,255,255,0.2); }
        h1 { color: #ff6b6b; text-align: center; font-size: 2.5em; margin-bottom: 15px; text-shadow: 0 0 20px rgba(255,107,107,0.5); }
        .status-bar { display: flex; justify-content: space-around; flex-wrap: wrap; gap: 10px; margin: 15px 0; }
        .status-badge { padding: 10px 20px; border-radius: 30px; font-weight: bold; font-size: 1.1em; box-shadow: 0 5px 15px rgba(0,0,0,0.3); }
        .online { background: linear-gradient(45deg, #00b894, #00cec9); }
        .offline { background: linear-gradient(45deg, #fdcb6e, #e17055); }
        .critical { background: linear-gradient(45deg, #d63031, #ff7675); animation: pulse 2s infinite; }
        @keyframes pulse { 0%, 100% { transform: scale(1); } 50% { transform: scale(1.05); } }
        .emergency-grid { display: grid; grid-template-columns: repeat(auto-fit, minmax(150px, 1fr)); gap: 15px; margin: 20px 0; }
        .emergency-btn { background: linear-gradient(45deg, #d63031, #ff7675); color: white; border: none; padding: 20px; border-radius: 20px; font-size: 1.3em; font-weight: bold; cursor: pointer; box-shadow: 0 10px 30px rgba(214,48,49,0.4); transition: all 0.3s; position: relative; overflow: hidden; }
        .emergency-btn::before { content: ''; position: absolute; top: 0; left: -100%; width: 100%; height: 100%; background: linear-gradient(90deg, transparent, rgba(255,255,255,0.3), transparent); transition: left 0.5s; }
        .emergency-btn:hover::before { left: 100%; }
        .emergency-btn:hover { transform: translateY(-5px) scale(1.05); box-shadow: 0 15px 40px rgba(214,48,49,0.6); }
        .tabs { display: flex; flex-wrap: wrap; gap: 12px; margin: 25px 0; padding: 15px; background: rgba(255,255,255,0.1); border-radius: 20px; backdrop-filter: blur(10px); }
        .tab-btn { background: rgba(255,255,255,0.2); border: 1px solid rgba(255,255,255,0.3); padding: 15px 25px; border-radius: 25px; cursor: pointer; transition: all 0.3s; color: white; font-weight: bold; }
        .tab-btn.active, .tab-btn:hover { background: linear-gradient(45deg, #00b894, #00cec9); transform: translateY(-2px); }
        .tab-content { background: rgba(255,255,255,0.15); backdrop-filter: blur(20px); border-radius: 20px; padding: 30px; margin-top: 25px; box-shadow: 0 20px 40px rgba(0,0,0,0.3); border: 1px solid rgba(255,255,255,0.2); display: none; }
        .tab-content.active { display: block; animation: fadeIn 0.5s; }
        @keyframes fadeIn { from { opacity: 0; transform: translateY(20px); } to { opacity: 1; transform: translateY(0); } }
        .form-grid { display: grid; grid-template-columns: repeat(auto-fit, minmax(250px, 1fr)); gap: 20px; margin-bottom: 25px; }
        .form-group { margin-bottom: 25px; }
        label { display: block; margin-bottom: 10px; font-weight: bold; color: #00cec9; font-size: 1.1em; }
        input, select, textarea { width: 100%; padding: 15px; border: 2px solid rgba(255,255,255,0.3); border-radius: 15px; font-size: 16px; background: rgba(255,255,255,0.9); color: #333; transition: all 0.3s; }
        input:focus, select:focus, textarea:focus { border-color: #00b894; box-shadow: 0 0 20px rgba(0,184,148,0.3); outline: none; transform: scale(1.02); }
        .severity-gauge { width: 100%; height: 40px; border-radius: 25px; margin: 20px 0; position: relative; overflow: hidden; background: rgba(255,255,255,0.2); }
        .gauge-fill { height: 100%; transition: all 1s cubic-bezier(0.68, -0.55, 0.265, 1.55); border-radius: 25px; }
        .gauge-1 { background: linear-gradient(90deg, #d63031, #ff7675); } .gauge-2 { background: linear-gradient(90deg, #fdcb6e, #e17055); }
        .gauge-3 { background: linear-gradient(90deg, #ffeaa7, #fdcb6e); } .gauge-4 { background: linear-gradient(90deg, #00b894, #00cec9); }
        .gauge-5 { background: linear-gradient(90deg, #74b9ff, #0984e3); }
        .action-buttons { display: grid; grid-template-columns: repeat(auto-fit, minmax(200px, 1fr)); gap: 15px; margin: 25px 0; }
        .btn-primary { background: linear-gradient(45deg, #00b894, #00cec9); } .btn-warning { background: linear-gradient(45deg, #fdcb6e, #e17055); }
        .btn-danger { background: linear-gradient(45deg, #d63031, #ff7675); } .btn-success { background: linear-gradient(45deg, #00b894, #55a3ff); }
        .reports-grid { display: grid; grid-template-columns: repeat(auto-fit, minmax(350px, 1fr)); gap: 20px; }
        .report-card { background: rgba(255,255,255,0.2); padding: 25px; border-radius: 20px; backdrop-filter: blur(10px); border: 1px solid rgba(255,255,255,0.3); }
        .report-header { display: flex; justify-content: space-between; align-items: center; margin-bottom: 15px; }
        .priority-badge { padding: 8px 15px; border-radius: 20px; font-weight: bold; font-size: 0.9em; }
        .priority-1 { background: #d63031; color: white; } .priority-2 { background: #e17055; color: white; }
        .priority-3 { background: #fdcb6e; color: #333; } .priority-4 { background: #00b894; color: white; }
        .stats-grid { display: grid; grid-template-columns: repeat(auto-fit, minmax(250px, 1fr)); gap: 25px; margin: 25px 0; }
        .stat-card { background: rgba(255,255,255,0.2); padding: 30px; border-radius: 20px; text-align: center; backdrop-filter: blur(10px); }
        .stat-number { font-size: 3em; font-weight: bold; margin-bottom: 10px; }
        .map-container { height: 400px; background: linear-gradient(45deg, #2c3e50, #3498db); border-radius: 20px; margin: 25px 0; display: flex; flex-direction: column; align-items: center; justify-content: center; color: white; font-size: 1.2em; }
        .notification { position: fixed; top: 20px; right: 20px; padding: 20px; border-radius: 15px; color: white; font-weight: bold; z-index: 1000; transform: translateX(400px); transition: all 0.5s; box-shadow: 0 10px 30px rgba(0,0,0,0.5); }
        .notification.show { transform: translateX(0); }
        .notification.success { background: linear-gradient(45deg, #00b894, #00cec9); }
        .notification.error { background: linear-gradient(45deg, #d63031, #ff7675); }
        @media (max-width: 768px) { .tabs { flex-direction: column; } .emergency-grid { grid-template-columns: 1fr; } .form-grid { grid-template-columns: 1fr; } }
    </style>
</head>
<body>
    <div class="container">
        <header>
            <h1>ğŸš¨ TAHOUR SIREP ULTIMATE ğŸš¨</h1>
            <p style="text-align: center; font-size: 1.2em; margin-bottom: 20px;">Ù†Ø¸Ø§Ù… Ø§Ù„Ø·ÙˆØ§Ø±Ø¦ Ø§Ù„ÙˆØ·Ù†ÙŠ Ø§Ù„Ø´Ø§Ù…Ù„ - Offline/Online - Ø¬Ù…ÙŠØ¹ Ø£Ù†ÙˆØ§Ø¹ Ø§Ù„Ø§ØªØµØ§Ù„ 2025</p>
            <div class="status-bar" id="status-bar">
                <div class="status-badge online" id="connection-status">Ù…ØªØµÙ„</div>
                <div class="status-badge" id="battery-status">ğŸ”‹ 85%</div>
                <div class="status-badge" id="gps-status">ğŸ“ GPS Ø¬Ø§Ù‡Ø²</div>
            </div>
            <div class="emergency-grid">
                <button class="emergency-btn" onclick="emergencyCall('14')">Ø§Ù„Ø­Ù…Ø§ÙŠØ© Ø§Ù„Ù…Ø¯Ù†ÙŠØ© 14</button>
                <button class="emergency-btn" onclick="emergencyCall('17')">Ø§Ù„Ø´Ø±Ø·Ø© 17</button>
                <button class="emergency-btn" onclick="emergencyCall('1055')">Ø§Ù„Ø¯Ø±Ùƒ 1055</button>
                <button class="emergency-btn" onclick="emergencyCall('16')">Ø§Ù„Ø¥Ø³Ø¹Ø§Ù SAMU 16</button>
                <button class="emergency-btn btn-primary" onclick="sosBeacon()">ğŸš¨ SOS Beacon</button>
            </div>
        </header>

        <div class="tabs">
            <button class="tab-btn active" onclick="showTab('sos')">ğŸš¨ Ø¥Ù†Ø°Ø§Ø± ÙÙˆØ±ÙŠ</button>
            <button class="tab-btn" onclick="showTab('medical')">ğŸ©º ØªÙ‚Ø±ÙŠØ± Ø·Ø¨ÙŠ</button>
            <button class="tab-btn" onclick="showTab('rescue')">ğŸ†˜ Ù†Ø¬Ø¯Ø©</button>
            <button class="tab-btn" onclick="showTab('live')">ğŸ“¡ Ø¨Ø« Ù…Ø¨Ø§Ø´Ø±</button>
            <button class="tab-btn" onclick="showTab('reports')">ğŸ“Š Ø§Ù„ØªÙ‚Ø§Ø±ÙŠØ±</button>
            <button class="tab-btn" onclick="showTab('analytics')">ğŸ“ˆ Ø§Ù„ØªØ­Ù„ÙŠÙ„Ø§Øª</button>
        </div>

        <!-- Ø¥Ù†Ø°Ø§Ø± ÙÙˆØ±ÙŠ -->
        <div id="sos" class="tab-content active">
            <h2 style="color: #ff6b6b; margin-bottom: 25px;">ğŸš¨ Ø¥Ù†Ø°Ø§Ø± Ø·Ø§Ø±Ø¦ ÙÙˆØ±ÙŠ - 3 Ø«ÙˆØ§Ù†ÙŠ ÙÙ‚Ø·</h2>
            <div class="form-grid">
                <div class="form-group">
                    <label>Ù†ÙˆØ¹ Ø§Ù„Ø·ÙˆØ§Ø±Ø¦</label>
                    <select id="sos-type">
                        <option value="1">Ø­Ø§Ø¯Ø« Ù…Ø±ÙˆØ± Ø®Ø·ÙŠØ±</option>
                        <option value="2">Ø¥ØµØ§Ø¨Ø© Ø­Ø±Ø¬Ø©</option>
                        <option value="3">Ù‚Ù„Ø¨ÙŠ/ØªÙ†ÙØ³ÙŠ</option>
                        <option value="4">Ø­Ø±ÙŠÙ‚/Ø§Ù†ÙØ¬Ø§Ø±</option>
                        <option value="5">ØºØ±Ù‚/Ø§Ø®ØªÙ†Ø§Ù‚</option>
                        <option value="6">Ø¹Ù†Ù/Ø¬Ø±ÙŠÙ…Ø©</option>
                    </select>
                </div>
                <div class="form-group">
                    <label>Ø¹Ø¯Ø¯ Ø§Ù„Ù…ØµØ§Ø¨ÙŠÙ†</label>
                    <input type="number" id="victims-count" min="1" max="50" value="1">
                </div>
            </div>
            <div class="action-buttons">
                <button class="emergency-btn btn-danger" style="grid-column: 1 / -1;" onclick="sendSOS()">ğŸš¨ Ø£Ø±Ø³Ù„ Ø§Ù„Ø¥Ù†Ø°Ø§Ø± Ø§Ù„Ø¢Ù†!</button>
            </div>
            <div id="sos-result" style="margin-top: 25px;"></div>
        </div>

        <!-- ØªÙ‚Ø±ÙŠØ± Ø·Ø¨ÙŠ Ù…ØªÙ‚Ø¯Ù… -->
        <div id="medical" class="tab-content">
            <h2 style="color: #00cec9;">ğŸ©º ØªÙ‚Ø±ÙŠØ± Ø·Ø¨ÙŠ Ø´Ø§Ù…Ù„ - ESI 5 Ù…Ø³ØªÙˆÙŠØ§Øª</h2>
            <form id="medical-form" class="form-grid">
                <div class="form-group">
                    <label>Ø§Ù„Ø§Ø³Ù…/Ø±Ù‚Ù… Ø§Ù„Ù…Ø±ÙŠØ¶</label>
                    <input type="text" id="patient-id" placeholder="Ø§Ù„Ø§Ø³Ù… Ø£Ùˆ Ø±Ù‚Ù… Ø§Ù„Ù‡ÙˆÙŠØ©">
                </div>
                <div class="form-group">
                    <label>Ø§Ù„ÙˆÙ„Ø§ÙŠØ©</label>
                    <select id="medical-wilaya">
                        <option value="">Ø§Ø®ØªØ± Ø§Ù„ÙˆÙ„Ø§ÙŠØ© (58)</option>
                        <optgroup label="Ø§Ù„Ø´Ù…Ø§Ù„">
                            <option value="16">Ø§Ù„Ø¬Ø²Ø§Ø¦Ø±</option><option value="31">ÙˆÙ‡Ø±Ø§Ù†</option><option value="19">Ø³Ø·ÙŠÙ</option>
                            <option value="05">Ø¨Ø§ØªÙ†Ø©</option><option value="24">Ù…Ø³ØªØºØ§Ù†Ù…</option>
                        </optgroup>
                        <optgroup label="Ø§Ù„Ø¬Ù†ÙˆØ¨">
                            <option value="01">Ø£Ø¯Ø±Ø§Ø±</option><option value="33">Ø§Ù„ÙˆØ§Ø¯ÙŠ</option><option value="47">ØªÙ…ÙŠÙ…ÙˆÙ†</option>
                            <option value="39">ÙˆØ±Ù‚Ù„Ø©</option>
                        </optgroup>
                    </select>
                </div>
                <div class="form-group">
                    <label>Ø§Ù„Ø¹Ù„Ø§Ù…Ø§Øª Ø§Ù„Ø­ÙŠÙˆÙŠØ©</label>
                    <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 10px;">
                        <input type="number" id="pulse-med" placeholder="Ù†Ø¨Ø¶">
                        <input type="number" id="bp-sys" placeholder="Ø¶ØºØ· Ù…Ù†">
                        <input type="number" id="bp-dia" placeholder="Ø¶ØºØ· Ù„">
                        <input type="number" id="temp-med" placeholder="Ø¯Ø±Ø¬Ø© Ø­Ø±Ø§Ø±Ø©">
                        <input type="number" id="o2-sat" placeholder="ØªØ´Ø¨Ø¹ O2">
                        <input type="number" id="resp-rate" placeholder="ØªÙ†ÙØ³/Ø¯Ù‚ÙŠÙ‚Ø©">
                    </div>
                </div>
                <div class="form-group">
                    <label>Ø§Ù„Ø£Ø¹Ø±Ø§Ø¶ Ø§Ù„Ø±Ø¦ÙŠØ³ÙŠØ© (Ø§Ø®ØªØ± Ù…ØªØ¹Ø¯Ø¯)</label>
                    <select id="symptoms-med" multiple size="5" style="height: 120px;">
                        <option>ØµØ¹ÙˆØ¨Ø© ØªÙ†ÙØ³ Ø­Ø§Ø¯Ø©</option><option>Ù†Ø²ÙŠÙ ØºÙŠØ± Ù…Ù†Ø¶Ø¨Ø·</option><option>Ø£Ù„Ù… ØµØ¯Ø±ÙŠ Ø´Ø¯ÙŠØ¯</option>
                        <option>ÙˆØ¹ÙŠ Ù…Ù†Ø®ÙØ¶</option><option>Ø­Ø±Ù‚ 3 Ø¯Ø±Ø¬Ø©</option><option>ØªØ³Ù…Ù…</option><option>Ø³ÙƒØ±ÙŠ Ø­Ø§Ø¯</option>
                    </select>
                </div>
                <div class="form-group">
                    <label>Ø§Ù„Ø¹Ù„Ø§Ø¬ Ø§Ù„Ù…Ø·Ù„ÙˆØ¨ ÙÙˆØ±Ø§Ù‹</label>
                    <textarea id="treatment-needed" rows="3" placeholder="Ø§Ù„Ø£Ø¯ÙˆÙŠØ©/Ø§Ù„Ø¥Ø¬Ø±Ø§Ø¡Ø§Øª Ø§Ù„Ù…Ø·Ù„ÙˆØ¨Ø©..."></textarea>
                </div>
            </form>
            <div class="action-buttons">
                <button type="button" class="emergency-btn btn-primary" onclick="calculateESIMedical()">ğŸ§  Ø§Ø­Ø³Ø¨ ESI</button>
                <button type="button"